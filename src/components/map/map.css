
/* Map animations */
.leaflet-marker-animated {
  animation: marker-pulse 1.5s infinite alternate;
}

@keyframes marker-pulse {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }
  100% {
    transform: scale(1.15);
    filter: brightness(1.2);
  }
}

/* Prevent map flickering */
.leaflet-container {
  will-change: transform;
}

.leaflet-fade-anim .leaflet-tile,
.leaflet-fade-anim .leaflet-popup {
  will-change: opacity;
}

/* Optimize Leaflet rendering */
.leaflet-container {
  backface-visibility: hidden;
}

/* Smoother marker transitions */
.leaflet-marker-icon {
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Additional anti-flickering measures */
.leaflet-tile {
  transform: translateZ(0);
  image-rendering: -webkit-optimize-contrast;
}

/* Animation for active vehicles */
@keyframes active-vehicle {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.4);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
  }
}
